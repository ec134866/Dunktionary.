{% extends 'base.html'%}
      
        {% block title %}
          <title> {{dunk.name}} Dunk </title>
        {% endblock %}
        
        {% block search %}
        <h1> Search </h1>
          <form method ="get" action="{% url 'search' %}">
              <label for= "name"> Dunk Name </label>
              <input type="text" id="name" placeholder="Search..." name = "name">
          </form>
        {% endblock %}

{% block content %}
  <main>
    <body>
        <div class= "container">
            <div class = "row">
                <div class = "col-sm-3">
                    <ul class="list-unstyled">
                        <br>
                        <h4 style= "font-size:1.5vw"><a href={% url 'passlib'%} class="text-dark text-decoration-none">Passes</a></h5>
                        <h4 style= "font-size:1.5vw"><a href={% url 'dunklib'%} class="text-dark text-decoration-none">Dunks</a></h5>
                            <br>
                            <h5 style= "color:dark-grey; font-size:1.25vw"> Other </h5>
                            <h6 style= "font-size:1vw"><a href={% url 'makeATrain'%} class="text-decoration-none" style= "color:#444444">Train Maker</a></h6>
                            <h6 style= "font-size:1vw"><a href="../DunkTheory" class="text-decoration-none" style= "color:#444444">Dunk Theory</a></h6>
                    </ul>
                </div>
              <div class = "col-sm-6">
                <div style="width: 37vw; height: 25vw; margin: 2px auto;">
                  <video id="custom-video" width="100%" height="100%" controls>
                    <source src="{{dunk.video}}" type="video/mp4">
                    Your browser does not support the video tag.
                  </video>
                </div>
                
                <script>
                  const videoElement = document.getElementById('custom-video');
                
                  // Customize the video player controls
                  videoElement.removeAttribute('controls'); // Remove default controls
                  videoElement.muted = true; // Mute the video by default
                
                  // Create custom play/pause button
                  const playPauseButton = document.createElement('button');
                  playPauseButton.textContent = 'Play';
                  playPauseButton.addEventListener('click', () => {
                    if (videoElement.paused) {
                      videoElement.play();
                      playPauseButton.textContent = 'Pause';
                    } else {
                      videoElement.pause();
                      playPauseButton.textContent = 'Play';
                    }
                  });
                
                  // Create speed control buttons
                  const speedButtons = [];
                  const speeds = [0.5, 1, 1.5, 2]; // Adjust these values as needed
                
                  speeds.forEach(speed => {
                    const speedButton = document.createElement('button');
                    speedButton.textContent = `${speed}x`;
                    speedButton.addEventListener('click', () => {
                      videoElement.playbackRate = speed;
                    });
                    speedButtons.push(speedButton);
                  });
                
                  // Add buttons to the player
                  const controlContainer = document.createElement('div');
                  controlContainer.appendChild(playPauseButton);
                  speedButtons.forEach(speedButton => {
                    controlContainer.appendChild(speedButton);
                  });
                
                  videoElement.parentNode.appendChild(controlContainer);
                </script>
                
                  <h1>{{dunk.name | capfirst }} dunk </h1>
                  <h1>Hierarchy : {{dunk.hierarchy}} </h1>
                  <h1><a href="" class="text-dark text-decoration-none">Prerequistes : {{dunk.prereq}}</a></h1>
                  <h1>Dunker : {{dunk.dunker}} </h1>
              </div>
              <div class = "col-sm-3">
                <div class= "row" align=right>
                  {% for dunk in dunks %}
                          <a href= {% url 'dunklib'%}{{dunk.altName}}>
                              <div class="card" style= "width: 17vw; height: 8vw" align=center>
                                  <img class="card-img" src={{dunk.image}} alt={{dunk.name}}>
                                  <div class="card-img-overlay position-absolute top-50 start-50  translate-middle text-white">
                                    <p class="card-title" style = "text-shadow: 2px 1px 2px black;">{{dunk.name}}<p>
                                  </div>
                              </div>
                          </a>
                  {% endfor %}
              </div>       
              </div>    
          </div>
      </div>
    </body>
  </main>
{% endblock %}
